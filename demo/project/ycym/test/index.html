<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta http-equiv="x-ua-compatible" content="ie=7">
<title>test document</title>
<!--<link href="test.less" rel="stylesheet/less" type="text/css" media="screen">-->
<link href="test.css" rel="stylesheet" type="text/css" media="screen">
<style>
/*.box{box-sizing: content-box;}*/
.box {
	box-sizing: border-box;
}
html, body {
	height: 100%;
	overflow: hidden;
}
.instructions {
	padding: 10px;
	font-family: Roboto, Arial, Helvetica, sans-serif;
	position: absolute;
	bottom: 20px;
	left: 20px;
	background: white;
	border: 2px solid purple;
}
</style>
</head>
<body>
	<!-- <div class="instructions">Move the mouse to control the spirals.
	</div>
	<div class="box"
		style="width: 100px; height: 100px; padding: 30px; border: 2px solid #02fa11"></div> -->
	<!--<canvas width="400" height="300" class="canvas" id="cvs" ></canvas>
<script src="require.js" data-main="main"></script>-->
<script>
//spriral shape from https://processing.org/discourse/beta/num_1223582667.html

var timer = 0, w, h, oldMouseX, oldMouseY;

function preload() {
  w = $('body').width(),
   h = $('body').height();
}

function setup() {
  createCanvas(w,h);
}

function draw() {
  if (mouseX == oldMouseX && mouseY == oldMouseY) {
    timer++;
  } else {
    timer = 0;
    $('.instructions').css('display','none');
  }
  oldMouseX = mouseX;
  oldMouseY = mouseY;
  if (timer > 30) {
    $('.instructions').css('display','block');
  }
  console.log(timer);
  noFill();
  background(255,255,255,127);
  var inc = mouseX /(width/8) > 1 ? mouseX /(width/8) : 1;
  var iter = mouseY /(height/5) > 1 ? mouseY /(height/5) : 1;
  for (var i = 0; i< iter; i++) {
    //var yR = random(height);
    //var xR = random(width);
    var xR = noise(i) * width + noise(frameCount) * 10;
    var yR = noise(iter - i) * height;
    push();
    translate(xR,yR);
    strokeWeight(2);
    beginShape();
    rotate((frameCount%60)/60 * (2 * PI));
    
    for(var j=0;j<1000;j=j+inc) {
      curveVertex((j*2)*sin(j/2.0),(j*2)*cos(j/2.0));
    }
    
    endShape();
    pop();
  }
}
</script>
</body>
</html>